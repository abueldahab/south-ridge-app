SouthRidge.Views.PodcastView=Backbone.View.extend({el:"#content",collection:null,icon:null,initialize:function(a){_.bindAll(this,"render");this.collection=a.collection;this.icon=a.icon;this.render()},render:function(){SouthRidge.Utils.ScrollTop();for(var a=0;a<this.collection.models.length;a++){var b=this.collection.models[a],c=b.get("Image"),d=b.get("Mp3");-1==b.get("Image").indexOf("http://www.southridgecc.org/")&&(c="http://www.southridgecc.org/resources/images/"+b.get("Image"));-1==b.get("Mp3").indexOf("http://www.southridgecc.org/")&&
(d="http://www.southridgecc.org/resources/"+b.get("Mp3"));b.set("PodcastId",b.get("Mp3"));b.set("Image",c);b.set("Icon",this.icon);b.set("Mp3",d)}a={podcasts:this.collection.models};a=_.template($("#podcasts").html(),a);SouthRidge.Utils.SetTopBar("Podcast");SouthRidge.Utils.DoneLoading();$(this.el).unbind().html(a).show()},events:{"tap div.podcast":"handleTap","click a.passage":"handlePassageTap"},handleTap:function(a){a.preventDefault();a=this.collection.where({PodcastId:$(a.target).attr("id")});
1===a.length&&forge.media.videoPlay(a[0].get("Mp3"),function(){},function(){})},handlePassageTap:function(a){a.preventDefault();a.stopPropagation();a=$(a.target).attr("href");forge.tabs.openWithOptions({url:a,title:"Passage",tint:[59,118,38,255]},function(){},function(){});return!1}});
